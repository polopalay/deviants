namespace = deviants_courtier

deviants_courtier.1440 = { 
	type = character_event
	title = deviants_courtier.1440.t
	desc = deviants_courtier.1440.a.desc
	theme = diplomacy
	right_portrait = {
		character = root
		animation = personality_greedy
	}
	trigger = {
		is_ruler = yes
		is_female = yes
		age >= 18
		NOT = { has_character_modifier = diplomacy_majesty_4090_no_raiment_modifier }
		OR = {
			has_trait = deviants_succubus
			has_trait = deviants_lesser_succubus
			has_trait = deviants_virgin
		}
	}
	option = {
		name = deviants_courtier.1440.a
		custom_tooltip = deviants_courtier.1440.a.tt
		hidden_effect = {
			random_list = {
				50 = {
					trigger_event = deviants_courtier.1441
				}
				50 = {
					trigger_event = deviants_courtier.1442
				}	
			}
		}	
	}		
	option = {
		name = deviants_courtier.1400.b
		custom_tooltip = deviants_courtier.1400.b.tt
		stress_impact = {
			base = major_stress_impact_gain
			lustful = medium_stress_impact_gain
		}
		add_trait_xp = {
			trait = deviants_succubus
			track = daring
			value = -1
		}
	}
}

deviants_courtier.1441 = { 
	type = character_event
	title = deviants_courtier.1441.t
	desc = deviants_courtier.1441.a.desc
	theme = diplomacy
	right_portrait = {
		character = root
		animation = personality_greedy
	}
	option = {
		name = deviants_courtier.1441.a
		custom_tooltip = deviants_courtier.1441.a.tt
		add_piety = minor_piety_loss
		stress_impact = {
			base = minor_stress_impact_gain
			lustful = minor_stress_impact_gain
		}
		add_character_modifier = diplomacy_majesty_4090_no_raiment_modifier
		add_trait_xp = {
			trait = deviants_succubus
			track = daring
			value = 1
		}
	}		
}

deviants_courtier.1442 = { 
	type = character_event
	title = deviants_courtier.1442.t
	desc = deviants_courtier.1442.a.desc
	theme = diplomacy
	right_portrait = {
		character = root
		animation = personality_greedy
	}
	option = {
		name = deviants_courtier.1442.a
		custom_tooltip = deviants_courtier.1442.a.tt
		add_piety = medium_piety_loss
		stress_impact = {
			base = minor_stress_impact_gain
			lustful = medium_stress_impact_loss
		}
		add_character_modifier = diplomacy_majesty_4090_no_raiment_modifier
		add_trait_xp = {
			trait = deviants_succubus
			track = daring
			value = 1
		}
	}		
}

deviants_courtier.1460 = { 
	type = character_event
	title = deviants_courtier.1460.t
	desc = deviants_courtier.1460.a.desc
	cooldown = { years = 2 }
	theme = diplomacy
	right_portrait = {
		character = root
		animation = personality_greedy
	}
	trigger = {
		is_ruler = yes
		is_female = yes
		age >= 18
		has_character_modifier = diplomacy_majesty_4090_no_raiment_modifier
		OR = {
			has_trait = deviants_succubus
			has_trait = deviants_lesser_succubus
			has_trait = deviants_virgin
		}
		OR = {
			AND = {
				exists = cp:councillor_chancellor
				cp:councillor_chancellor = {
					is_female = no
					is_available_ai_adult = yes
					age >= 18
				}
			}
			AND = {
				exists = cp:councillor_marshal
				cp:councillor_marshal = {
					is_female = no
					is_available_ai_adult = yes
					age >= 18
				}
			}
			AND = {
				exists = cp:councillor_steward
				cp:councillor_steward = {
					is_female = no
					is_available_ai_adult = yes
					age >= 18
				}
			}
			AND = {
				exists = cp:councillor_spymaster
				cp:councillor_spymaster = {
					is_female = no
					is_available_ai_adult = yes
					age >= 18
				}
			}
			AND = {
				exists = cp:councillor_court_chaplain
				cp:councillor_court_chaplain = {
					is_female = no
					is_available_ai_adult = yes
					age >= 18
				}
			}
		}
	}
	immediate = {
		if = {
			limit = { 
				exists = cp:councillor_chancellor
				cp:councillor_chancellor = {
					is_female = no
					is_available_ai_adult = yes
					age >= 18
				}
			}	
			cp:councillor_chancellor = {
				save_scope_as = deviants_courtier_random_1
			}
		}
		else_if = {
			limit = { 
				exists = cp:councillor_marshal
				cp:councillor_marshal = {
					is_female = no
					is_available_ai_adult = yes
					age >= 18
				}
			}	
			cp:councillor_marshal = {
				save_scope_as = deviants_courtier_random_1
			}
		}
		else_if = {
			limit = { 
				exists = cp:councillor_steward 
				cp:councillor_steward = {
					is_female = no
					is_available_ai_adult = yes
					age >= 18
				}
			}
			cp:councillor_steward = {
				save_scope_as = deviants_courtier_random_1
			}
		}
		else_if = {
			limit = { 
				exists = cp:councillor_spymaster 
				cp:councillor_spymaster = {
					is_female = no
					is_available_ai_adult = yes
					age >= 18
				}
			}	
			cp:councillor_spymaster = {
				save_scope_as = deviants_courtier_random_1
			}
		}
		else_if = {
			limit = { 
				exists = cp:councillor_court_chaplain
				cp:councillor_court_chaplain = {
					is_female = no
					is_available_ai_adult = yes
					age >= 18
				}
			}
			cp:councillor_court_chaplain = {
				save_scope_as = deviants_courtier_random_1
			}
		}	
	}
	option = {
		ai_chance = { base = 100 }
		name = deviants_courtier.1460.a
		custom_tooltip = deviants_courtier.1460.a.tt
		hidden_effect = {
			random_list = {
				10 = { trigger_event = deviants_courtier.1461 }
				10 = { trigger_event = deviants_courtier.1462 }	
			}
		}
	}		
	option = {
		ai_chance = { base = 50 }
		name = deviants_courtier.1460.b
		custom_tooltip = deviants_courtier.1460.b.tt
		every_court_position_holder = {
			limit = { is_adult = yes is_female = no }
			add_opinion = {
				target = root
				modifier = disgusted_opinion
				opinion = -10
			}
			pay_short_term_gold = {
				target = root
				gold = tiny_gold_value
			}
		}
		if = {
			limit = { 
				exists = cp:councillor_chancellor 
				cp:councillor_chancellor = {
					is_female = no
					is_available_ai_adult = yes
					age >= 18
				}
			}	
			cp:councillor_chancellor = {
				add_opinion = {
					target = root
					modifier = disgusted_opinion
					opinion = -10
				}
				pay_short_term_gold = {
					target = root
					gold = tiny_gold_value
				}
			}
		}
		if = {
			limit = { 
				exists = cp:councillor_marshal
				cp:councillor_marshal = {
					is_female = no
					is_available_ai_adult = yes
					age >= 18
				}
			}
			cp:councillor_marshal = {
				add_opinion = {
					target = root
					modifier = disgusted_opinion
					opinion = -10
				}
				pay_short_term_gold = {
					target = root
					gold = tiny_gold_value
				}
			}
		}
		if = {
			limit = {
				exists = cp:councillor_steward
				cp:councillor_steward = {
					is_female = no
					is_available_ai_adult = yes
					age >= 18
				}
			}
			cp:councillor_steward = {
				add_opinion = {
					target = root
					modifier = disgusted_opinion
					opinion = -20
				}
				pay_short_term_gold = {
					target = root
					gold = tiny_gold_value
				}
			}
		}
		if = {
			limit = { 
				exists = cp:councillor_spymaster
				cp:councillor_spymaster = {
					is_female = no
					is_available_ai_adult = yes
					age >= 18
				}
			}
			cp:councillor_spymaster = {
				add_opinion = {
					target = root
					modifier = disgusted_opinion
					opinion = -10
				}
				pay_short_term_gold = {
					target = root
					gold = tiny_gold_value
				}
			}
		}
		if = {
			limit = { 
				exists = cp:councillor_court_chaplain
				cp:councillor_court_chaplain = {
					is_female = no
					is_available_ai_adult = yes
					age >= 18
				}
			}
			cp:councillor_court_chaplain = {
				add_opinion = {
					target = root
					modifier = disgusted_opinion
					opinion = -10
				}
				pay_short_term_gold = {
					target = root
					gold = tiny_gold_value
				}
			}
		}	
		hidden_effect = {
			random_list = {
				10 = { trigger_event = deviants_courtier.1461 }
				10 = { trigger_event = deviants_courtier.1462 }	
			}
		}
	}
	option = {
		name = deviants_courtier.1460.x
		custom_tooltip = deviants_courtier.1460.x.tt
		stress_impact = {
			base = major_stress_impact_gain
			lustful = major_stress_impact_gain
		}
		hidden_effect = {
			add_trait_xp = {
				trait = deviants_succubus
				track = daring
				value = -1
			}
			add_trait_xp = {
				trait = deviants_succubus
				track = loyalty
				value = 1
			}
			
		}
	}
}

deviants_courtier.1461 = { 
	type = character_event
	title = deviants_courtier.1461.t
	desc = deviants_courtier.1461.a.desc
	theme = diplomacy
	right_portrait = {
		character = root
		animation = shame
	}
	left_portrait = {
		character = scope:deviants_courtier_random_1
		animation = personality_cynical
	}
	option = {
		name = deviants_courtier.1461.a
		custom_tooltip = deviants_courtier.1461.a.tt
		stress_impact = {
			base = minor_stress_impact_loss
			lustful = major_stress_impact_loss
		}
		every_court_position_holder = {
			limit = { is_adult = yes is_female = no }
			add_opinion = {
				target = root
				modifier = dismissive_opinion
				opinion = -10
			}
		}
		if = {
			limit = {
				exists = cp:councillor_chancellor
				cp:councillor_chancellor = {
					is_available_ai_adult = yes
					age >= 18
				}
			}	
			cp:councillor_chancellor = {
				add_opinion = {
					target = root
					modifier = dismissive_opinion
					opinion = -10
				}
			}
		}
		if = {
			limit = {
				exists = cp:councillor_marshal
				cp:councillor_marshal = {
					is_available_ai_adult = yes
					age >= 18
				}
			}
			cp:councillor_marshal = {
				add_opinion = {
					target = root
					modifier = dismissive_opinion
					opinion = -10
				}
			}
		}
		if = {
			limit = {
				exists = cp:councillor_steward
				cp:councillor_steward = {
					is_available_ai_adult = yes
					age >= 18
				}
			}
			cp:councillor_steward = {
				add_opinion = {
					target = root
					modifier = dismissive_opinion
					opinion = -10
				}
			}
		}
		if = {
			limit = {
				exists = cp:councillor_spymaster
				cp:councillor_spymaster = {
					is_available_ai_adult = yes
					age >= 18
				}
			}
			cp:councillor_spymaster = {
				add_opinion = {
					target = root
					modifier = dismissive_opinion
					opinion = -10
				}
			}
		}
		if = {
			limit = {
				exists = cp:councillor_court_chaplain
				cp:councillor_court_chaplain = {
					is_available_ai_adult = yes
					age >= 18
				}
			}
			cp:councillor_court_chaplain = {
				add_opinion = {
					target = root
					modifier = dismissive_opinion
					opinion = -10
				}
			}
		}
		hidden_effect = {
			add_trait_xp = {
				trait = deviants_succubus
				track = daring
				value = 1
			}
			add_trait_xp = {
				trait = deviants_succubus
				track = power
				value = 1
			}
			buy_sex_with_effect = {
				CHARACTER = scope:deviants_courtier_random_1
				PREGNANCY_CHANCE = pregnancy_chance
			}
		}
	}		
}

deviants_courtier.1462 = { 
	type = character_event
	title = deviants_courtier.1462.t
	desc = deviants_courtier.1462.a.desc
	theme = diplomacy
	right_portrait = {
		character = root
		animation = shame
	}
	left_portrait = {
		character = scope:deviants_courtier_random_1
		animation = personality_cynical
	}

	option = {
		name = deviants_courtier.1462.a
		custom_tooltip = deviants_courtier.1462.a.tt
		stress_impact = {
			base = minor_stress_impact_gain
			lustful = medium_stress_impact_loss
		}
		every_court_position_holder = {
			limit = { is_adult = yes is_female = no }
			add_opinion = {
				target = root
				modifier = dismissive_opinion
				opinion = -10
			}
		}
		if = {
			limit = {
				exists = cp:councillor_chancellor
				cp:councillor_chancellor = {
					is_female = no
					is_available_ai_adult = yes
					age >= 18
				}
			}	
			cp:councillor_chancellor = {
				add_opinion = {
					target = root
					modifier = dismissive_opinion
					opinion = -10
				}
			}
		}
		if = {
			limit = {
				exists = cp:councillor_marshal
				cp:councillor_marshal = {
					is_female = no
					is_available_ai_adult = yes
					age >= 18
				}
			}
			cp:councillor_marshal = {
				add_opinion = {
					target = root
					modifier = dismissive_opinion
					opinion = -10
				}
			}
		}
		if = {
			limit = {
				exists = cp:councillor_steward
				cp:councillor_steward = {
					is_female = no
					is_available_ai_adult = yes
					age >= 18
				}
			}
			cp:councillor_steward = {
				add_opinion = {
					target = root
					modifier = dismissive_opinion
					opinion = -10
				}
			}
		}
		if = {
			limit = {
				exists = cp:councillor_spymaster
				cp:councillor_spymaster = {
					is_female = no
					is_available_ai_adult = yes
					age >= 18
				}
			}
			cp:councillor_spymaster = {
				add_opinion = {
					target = root
					modifier = dismissive_opinion
					opinion = -10
				}
			}
		}
		if = {
			limit = {
				exists = cp:councillor_court_chaplain
				cp:councillor_court_chaplain = {
					is_female = no
					is_available_ai_adult = yes
					age >= 18
				}
			}
			cp:councillor_court_chaplain = {
				add_opinion = {
					target = root
					modifier = dismissive_opinion
					opinion = -10
				}
			}
		}
		trigger_event = deviants_courtier.1463
	}		 
}

deviants_courtier.1463 = { 
	type = character_event
	title = deviants_courtier.1463.t
	desc = deviants_courtier.1463.a.desc
	theme = diplomacy
	right_portrait = {
		character = root
		animation = throne_room_kneel_2
	}
	left_portrait = {
		character = scope:deviants_courtier_random_1
		animation = personality_cynical
	}

	option = {
		name = deviants_courtier.1463.a
		custom_tooltip = deviants_courtier.1463.a.tt
		stress_impact = {
			base = minor_stress_impact_loss
			lustful = medium_stress_impact_loss
		}
		every_court_position_holder = {
			add_opinion = {
				target = root
				modifier = disgusted_opinion
				opinion = -10
			}
		}
		if = {
			limit = {
				exists = cp:councillor_chancellor
				cp:councillor_chancellor = {
					is_female = no
					is_available_ai_adult = yes
					age >= 18
				}
			}	
			cp:councillor_chancellor = {
				add_opinion = {
					target = root
					modifier = disgusted_opinion
					opinion = -10
				}
			}
		}
		if = {
			limit = {
				exists = cp:councillor_marshal
				cp:councillor_marshal = {
					is_female = no
					is_available_ai_adult = yes
					age >= 18
				}
			}
			cp:councillor_marshal = {
				add_opinion = {
					target = root
					modifier = disgusted_opinion
					opinion = -10
				}
			}
		}
		if = {
			limit = {
				exists = cp:councillor_steward
				cp:councillor_steward = {
					is_female = no
					is_available_ai_adult = yes
					age >= 18
				}
			}
			cp:councillor_steward = {
				add_opinion = {
					target = root
					modifier = disgusted_opinion
					opinion = -10
				}
			}
		}
		if = {
			limit = {
				exists = cp:councillor_spymaster
				cp:councillor_spymaster = {
					is_female = no
					is_available_ai_adult = yes
					age >= 18
				}
			}
			cp:councillor_spymaster = {
				add_opinion = {
					target = root
					modifier = disgusted_opinion
					opinion = -10
				}
			}
		}
		if = {
			limit = {
				exists = cp:councillor_court_chaplain
				cp:councillor_court_chaplain = {
					is_female = no
					is_available_ai_adult = yes
					age >= 18
				}
			}
			cp:councillor_court_chaplain = {
				add_opinion = {
					target = root
					modifier = disgusted_opinion
					opinion = -10
				}
			}
		}
		hidden_effect = {
			add_trait_xp = {
				trait = deviants_succubus
				track = daring
				value = 1
			}
			add_trait_xp = {
				trait = deviants_succubus
				track = power
				value = 1
			}
			add_trait_xp = {
				trait = deviants_succubus
				track = loyalty
				value = 1
			}
		}
	}		
}

