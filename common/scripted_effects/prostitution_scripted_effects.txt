prostitute_effect = {
	save_scope_as = had_sex_root_character
	$PROSTITUTE$ = { save_scope_as = had_sex_with_effect_partner }

	custom_tooltip = had_sex_with_effect.third_person.tt

	hidden_effect = {
		if = {
			limit = {
				is_female = yes
				is_adult = yes
				$PROSTITUTE$ = { is_male = yes is_adult = yes }
				possible_pregnancy_after_sex_with_character_trigger = { PROSTITUTE = scope:had_sex_with_effect_partner }
			}
			add_to_variable_list = { name = potential_father_variable_list target = $PROSTITUTE$ }
			random = { chance = $PREGNANCY_CHANCE$ make_pregnant = { father = $PROSTITUTE$ } }
		}
		else_if = {
			limit = {
				is_male = yes
				is_adult = yes
				$PROSTITUTE$ = { is_female = yes is_adult = yes }
				possible_pregnancy_after_sex_with_character_trigger = { PROSTITUTE = scope:had_sex_with_effect_partner }
			}
			$PROSTITUTE$ = {
				add_to_variable_list = { name = potential_father_variable_list target = scope:had_sex_with_effect_partner }
				random = { chance = $PREGNANCY_CHANCE$ make_pregnant = { father = scope:had_sex_root_character } }
			}
		}
		$PROSTITUTE$ = {
			random = { chance = 25 add_character_flag = { flag = face_cum days = 10 } }
			random = { chance = 25 add_character_flag = { flag = body_cum days = 10 } }
			random = { chance = 25 add_character_flag = { flag = ass_cum days = 10 } }
			random = { chance = 25 add_character_flag = { flag = pussy_cum days = 10 } }
			add_character_modifier = { modifier = recently_had_sex months = 12 }
			if = {
				has_trait = { lifestyle_prostitute }
				add_trait_xp = { trait = lifestyle_prostitute value = 1 }
			}
			if = {
				limit = { has_trait = succubus }
				random_list = {
					1 = { add_trait_xp = { trait = succubus track = power value = 2 } }
					1 = { add_trait_xp = { trait = succubus track = daring value = 2 } }
				}
			}
			if = {
				limit = { has_trait = lesser_succubus }
				add_trait_xp = { trait = lesser_succubus value = 1 }
			}
		}

		risk_of_std_from_effect = { PARTNER = $PROSTITUTE$ }
		hidden_effect = { $PROSTITUTE$ = { risk_of_std_from_effect = { PARTNER = scope:had_sex_root_character } } }
	}
}

