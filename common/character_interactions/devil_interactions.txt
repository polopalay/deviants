sbs_switch_body_interaction = {
	icon = two_body
	desc = sbs_switch_body_interaction.desc
	category = interaction_category_diplomacy
	interface_priority = 1
	common_interaction = yes
	use_diplomatic_range = yes
	is_shown = {
		NOT = { scope:recipient = scope:actor }
		scope:actor = {
			is_ai = no
			OR = {
				has_trait = sbs_demon
				has_trait = sbs_succubus
				has_trait = sbs_lesser_succubus
			}
		}
		scope:recipient = {
			is_ruler = yes
			primary_title.tier >= tier_county
			OR = {
				has_trait = sbs_succubus
				has_trait = sbs_lesser_succubus
				has_trait = deviant_virgin
			}
		}
	}
	on_accept = {
		scope:actor = { set_player_character = scope:recipient }
	}
	auto_accept = yes
}

deal_with_the_devil = {
	icon = fascinate
	desc = deal_with_the_devil.desc
	category = interaction_category_diplomacy
	use_diplomatic_range = yes
	cooldown = { years = 1 }

	is_shown = {
		scope:actor = {
			OR = {
				has_trait = drunkard
				has_trait = hashishiyah
				has_trait = rakish
				has_trait = reclusive
				has_trait = irritable
				has_trait = flagellant
				has_trait = profligate
				has_trait = improvident
				has_trait = contrite
				has_trait = comfort_eater
				has_trait = inappetetic

				has_trait = depressed_1
				has_trait = depressed_genetic
				has_trait = lunatic_1
				has_trait = lunatic_genetic
				has_trait = possessed_1
				has_trait = one_eyed
				has_trait = scarred
				has_trait = maimed
				has_trait = one_legged
				has_trait = disfigured
				has_trait = eunuch
				has_trait = blind
				has_trait = sickly
				has_trait = infirm
				has_trait = incapable
				has_trait = leper
				has_trait = dysentery
				has_trait = ergotism
				has_trait = wounded_1
				has_trait = wounded_2
				has_trait = wounded_3

				has_trait = ill
				has_trait = pneumonic
				has_trait = gout_ridden
				has_trait = typhus
				has_trait = consumption
				has_trait = cancer
				has_trait = great_pox
				has_trait = smallpox
				has_trait = bubonic_plague
				has_trait = lovers_pox
				has_trait = great_pox
				has_trait = possessed_genetic
				has_trait = bubonic_plague
				has_trait = measles

				has_trait = albino
				has_trait = lisping
				has_trait = stuttering
				has_trait = giant
				has_trait = scaly
				has_trait = clubfooted
				has_trait = dwarf
				has_trait = hunchbacked
				has_trait = infertile
				has_trait = wheezing
				has_trait = spindly
				has_trait = bleeder
				has_trait = weak
				has_trait = dull
				has_trait = beauty_bad_1
				has_trait = beauty_bad_2
				has_trait = beauty_bad_3
				has_trait = intellect_bad_1
				has_trait = intellect_bad_2
				has_trait = intellect_bad_3
				has_trait = physique_bad_1
				has_trait = physique_bad_2
				has_trait = physique_bad_3
				has_trait = inbred
			}
			NOR = {
				has_trait = sbs_demon
				has_trait = sbs_succubus
				has_trait = sbs_lesser_succubus
			}
		}
		scope:recipient = {
			NOT = { has_character_modifier = cast_spell_recetly }
			OR = {
				has_trait = sbs_demon
				has_trait = sbs_succubus
				has_trait = sbs_lesser_succubus
			}
		}
	}
	localization_values = {
		RANSOM_COST = scope:actor.deal_price_value
	}
	send_option = {
		is_shown = {
			scope:actor ?= { gold >= scope:actor.deal_price_value }
		}
		flag = gold
		localization = "RANSOM_GOLD_OPTION"
	}
	send_option = {
		is_valid = {
			scope:actor = {
				has_usable_hook = scope:recipient
			}
		}
		flag = hook
		localization = GENERIC_SPEND_A_HOOK
	}
	send_option = {
		is_valid = {
			exists = scope:recipient
			scope:recipient = {
				can_add_hook = {
					target = scope:actor
					type = favor_hook
				}
			}
		}
		flag = favor
		localization = "RANSOM_OWE_FAVOR_OPTION"
	}
	send_option = {
		flag = demand_conversion
		localization = "RELEASE_DEMAND_CONVERSION"
		is_valid = {
			# Cannot ask Religious Heads to convert
			custom_description = {
				text = cannot_demand_religious_head_conversion
				NOT = {
					AND = {
						exists = scope:actor.faith.religious_head
						scope:actor.faith.religious_head = scope:actor
					}
				}
			}
			# Cannot ask Holy Order Master to convert
			custom_description = {
				text = cannot_demand_holy_order_master_conversion
				NAND = {
					exists = scope:actor.faith
					scope:actor.faith = {
						any_faith_holy_order = { leader = scope:actor }
					}
				}
			}
		}
	}
	send_option = {
		is_shown = {
			NOT = { scope:actor = scope:recipient }
			scope:actor = {
				OR = {
					NOT = {
						has_trait = sbs_lesser_succubus
						has_trait = sbs_succubus
						has_trait = sbs_demon
					}
					NOR = {
						has_trait = lustful
						has_trait = deviant
						has_trait = witch
						any_secret = { secret_type = secret_deviant }
						any_secret = { secret_type = secret_witch }
					}
				}
			}
		}
		flag = small_price
		localization = "small_price"
	}
	send_options_exclusive = no

	on_accept = {
		scope:actor = {
			remove_trait = drunkard
			remove_trait = hashishiyah
			remove_trait = rakish
			remove_trait = reclusive
			remove_trait = irritable
			remove_trait = flagellant
			remove_trait = profligate
			remove_trait = improvident
			remove_trait = contrite
			remove_trait = comfort_eater
			remove_trait = inappetetic
			remove_trait = depressed_1
			remove_trait = depressed_genetic
			remove_trait = lunatic_1
			remove_trait = lunatic_genetic
			remove_trait = possessed_1
			remove_trait = possessed_genetic
			remove_trait = one_eyed
			remove_trait = scarred
			remove_trait = maimed
			remove_trait = one_legged
			remove_trait = disfigured
			remove_trait = eunuch
			remove_trait = blind
			remove_trait = sickly
			remove_trait = infirm
			remove_trait = incapable
			remove_trait = leper
			remove_trait = wounded_1
			remove_trait = wounded_2
			remove_trait = wounded_3

			recover_from_disease_effect = { DISEASE = ill }
			recover_from_disease_effect = { DISEASE = pneumonic }
			recover_from_disease_effect = { DISEASE = gout_ridden }
			recover_from_disease_effect = { DISEASE = typhus }
			recover_from_disease_effect = { DISEASE = consumption }
			recover_from_disease_effect = { DISEASE = measles }
			recover_from_disease_effect = { DISEASE = cancer }
			recover_from_disease_effect = { DISEASE = great_pox }
			recover_from_disease_effect = { DISEASE = smallpox }
			recover_from_disease_effect = { DISEASE = bubonic_plague }
			recover_from_disease_effect = { DISEASE = lovers_pox }
			recover_from_disease_effect = { DISEASE = bubonic_plague }
			recover_from_disease_effect = { DISEASE = dysentery }
			recover_from_disease_effect = { DISEASE = ergotism }

			remove_trait = albino
			remove_trait = lisping
			remove_trait = stuttering
			remove_trait = giant
			remove_trait = scaly
			remove_trait = clubfooted
			remove_trait = dwarf
			remove_trait = hunchbacked
			remove_trait = infertile
			remove_trait = wheezing
			remove_trait = spindly
			remove_trait = bleeder
			remove_trait = weak
			remove_trait = dull
			remove_trait = beauty_bad_1
			remove_trait = beauty_bad_2
			remove_trait = beauty_bad_3
			remove_trait = intellect_bad_1
			remove_trait = intellect_bad_2
			remove_trait = intellect_bad_3
			remove_trait = physique_bad_1
			remove_trait = physique_bad_2
			remove_trait = physique_bad_3
			remove_trait = inbred
			hidden_effect = {
				if = {
					limit = { NOT = { has_trait = beauty_good_1 } }
					add_trait = beauty_good_1
					remove_trait = beauty_good_1
				}
			}
			if = {
				limit = {
					scope:hook = yes
					has_hook = scope:recipient
				}
				use_hook = scope:recipient
			}
			if = {
				limit = {
					scope:gold = yes
				}
				pay_short_term_gold = { target = scope:recipient gold = scope:actor.deal_price_value }
			}
			if = {
				limit = { scope:demand_conversion = yes }
				set_character_faith_with_conversion = scope:recipient.faith
			}
			if = {
				limit = { scope:small_price = yes }
				mind_break_personality = yes
			}
		}
		scope:recipient = {
			add_character_modifier = { modifier = cast_spell_recetly years = 2 }
			if = {
				limit = { scope:favor = yes }
				add_hook = {
					target = scope:actor
					type = favor_hook
				}
			}
		}
	}

	ai_accept = {
		base = 0
		opinion_modifier = {
			opinion_target = scope:actor
			who = scope:recipient
			multiplier = 1
		}
		modifier = { add = 40 scope:hook = yes }
		modifier = { add = 40 scope:favor = yes }
		modifier = { add = 40 scope:gold = yes }
		modifier = { add = 40 scope:demand_conversion = yes }
		modifier = { add = 40 scope:small_price = yes }
	}

	ai_potential = { always = yes }
	ai_frequency = 12
	ai_targets = {
		ai_recipients = liege
		ai_recipients = vassals
		ai_recipients = peer_vassals
		ai_recipients = guests
		ai_recipients = courtiers
		ai_recipients = neighboring_rulers
		ai_recipients = nearby_domicile_owners
		max = 5
	}

	ai_will_do = {
		base = 1
		modifier = { add = -5 scope:actor = { has_trait = chaste } }
		modifier = { add = -5 scope:actor = { has_trait = zealous } }
		modifier = { add = 1 scope:actor = { has_trait = lustful } }
		modifier = { add = 1 scope:actor = { has_trait = rakish } }
		modifier = { add = 1 scope:actor = { has_trait = disfigured } }
		modifier = { add = 1 scope:actor = { has_treatable_disease_trigger = yes } }
		modifier = { add = 1 scope:actor = { has_wounds_trigger = yes } }
		modifier = { add = 1 scope:actor = { has_std_trigger = yes } }
		modifier = { add = 1 scope:actor = { has_trait = lunatic_1 } }
		modifier = { add = 1 scope:actor = { has_trait = lunatic_genetic } }
		modifier = { add = 1 scope:actor = { has_trait = possessed_1 } }
		modifier = { add = 1 scope:actor = { has_trait = possessed_genetic } }
		modifier = { add = 5 scope:hook = yes }
		modifier = { add = 5 scope:favor = yes }
		modifier = { add = 1 scope:demand_conversion = yes scope:actor = { OR = { NOT = { has_trait = zealous } primary_title.tier <= tier_duchy } } }
		modifier = { add = 1 scope:gold = yes }
		modifier = { add = 1 scope:small_price = yes }
	}
}

ask_for_become_lesser_succubus = {
	icon = lesser_devil
	desc = ask_for_become_lesser_succubus.desc
	category = interaction_category_diplomacy
	use_diplomatic_range = yes
	cooldown = { years = 1 }

	is_shown = {
		scope:actor = {
			NOR = {
				has_trait = sbs_demon
				has_trait = sbs_succubus
				has_trait = sbs_lesser_succubus
			}
		}
		scope:recipient = {
			OR = {
				has_trait = sbs_demon
				has_trait = sbs_succubus
			}
		}
	}

	is_valid = {
		scope:actor = {
			any_prisoner = { count > 0 }
		}
	}

	populate_recipient_list = {
		scope:actor = {
			every_prisoner = {
				add_to_list = characters
			}
		}
	}
	send_option = {
		is_valid = {
			scope:actor = {
				has_usable_hook = scope:recipient
			}
		}
		flag = hook
		localization = GENERIC_SPEND_A_HOOK
	}
	send_option = {
		is_valid = {
			exists = scope:recipient
			scope:recipient = {
				can_add_hook = {
					target = scope:actor
					type = favor_hook
				}
			}
		}
		flag = favor
		localization = "RANSOM_OWE_FAVOR_OPTION"
	}
	send_option = {
		flag = demand_conversion
		localization = "RELEASE_DEMAND_CONVERSION"
		is_shown = {
			NOT = { scope:recipient.faith = scope:actor.faith }
		}
		is_valid = {
			custom_description = {
				text = cannot_demand_religious_head_conversion
				subject = scope:recipient
				NOT = {
					AND = {
						exists = scope:recipient.faith.religious_head
						scope:recipient.faith.religious_head = scope:recipient
					}
				}
			}
		}
	}
	send_options_exclusive = no

	on_accept = {
		scope:actor = {
			mind_break_personality = yes
			add_trait = sbs_lesser_succubus
			set_immortal_age = 18
			if = {
				limit = {
					scope:hook = yes
					has_hook = scope:recipient
				}
				use_hook = scope:recipient
			}
			if = {
				limit = {
					scope:demand_conversion = yes
				}
				set_character_faith_with_conversion = scope:recipient.faith
			}
		}
		scope:recipient = {
			if = {
				limit = { scope:favor = yes }
				add_hook = {
					target = scope:actor
					type = fabrication_hook
				}
			}
		}
		scope:secondary_recipient = {
			death = {
				death_reason = death_execution
				killer = scope:actor
			}
		}
	}
	auto_accept = {
		custom_description = {
			text = "spending_hook"
			subject = scope:actor
			object = scope:recipient
			scope:hook = yes
		}
	}
	ai_accept = {
		base = 0
		opinion_modifier = {
			opinion_target = scope:actor
			who = scope:recipient
			multiplier = 1
		}
		opinion_modifier = {
			opinion_target = scope:secondary_recipient
			who = scope:recipient
			multiplier = -0.1
		}
		modifier = { add = 10 scope:actor = { has_trait = lustful } }
		modifier = { add = 10 scope:actor = { has_trait = deviant } }
		modifier = { add = 10 scope:actor = { has_trait = witch } }
		modifier = { add = 10 scope:actor = { any_secret = { secret_type = secret_deviant is_known_by = scope:recipient } } }
		modifier = { add = 10 scope:actor = { any_secret = { secret_type = secret_witch is_known_by = scope:recipient } } }
		modifier = { add = 25 scope:hook = yes }
		modifier = { add = 25 scope:favor = yes }
		modifier = { add = 25 scope:demand_conversion = yes }
	}

	ai_potential = { always = yes }
	ai_frequency = 12
	ai_targets = {
		ai_recipients = liege
		ai_recipients = vassals
		ai_recipients = peer_vassals
		ai_recipients = guests
		ai_recipients = courtiers
		ai_recipients = neighboring_rulers
		ai_recipients = nearby_domicile_owners
		max = 5
	}

	ai_will_do = {
		base = 0
		modifier = {
			add = 5
			scope:actor = {
				has_trait = lustful
				OR = {
					has_trait = deviant
					any_secret = { secret_type = secret_deviant }
				}
				OR = {
					has_trait = witch
					any_secret = { secret_type = secret_witch }
				}
			}
		}
		modifier = {
			add = 1
			scope:hook = yes
			scope:actor = {
				has_trait = lustful
				OR = {
					has_trait = deviant
					any_secret = { secret_type = secret_deviant }
				}
				OR = {
					has_trait = witch
					any_secret = { secret_type = secret_witch }
				}
			}
		}
		modifier = {
			add = 1
			scope:favor = yes
			scope:actor = {
				has_trait = lustful
				OR = {
					has_trait = deviant
					any_secret = { secret_type = secret_deviant }
				}
				OR = {
					has_trait = witch
					any_secret = { secret_type = secret_witch }
				}
			}
		}
		modifier = {
			add = 1
			scope:demand_conversion = yes
			NOT = { scope:actor = { has_trait = zealous } }
			scope:actor = {
				has_trait = lustful
				OR = {
					has_trait = deviant
					any_secret = { secret_type = secret_deviant }
				}
				OR = {
					has_trait = witch
					any_secret = { secret_type = secret_witch }
				}
			}
		}
	}
}

ask_for_become_succubus = {
	icon = devil
	desc = ask_for_become_succubus.desc
	category = interaction_category_diplomacy
	use_diplomatic_range = yes
	cooldown = { years = 5 }

	is_shown = {
		scope:actor = {
			has_trait_xp = {
				trait = sbs_lesser_succubus
				value >= 100
			}
			NOR = {
				has_trait = sbs_demon
				has_trait = sbs_succubus
			}
		}
		scope:recipient = {
			has_trait = sbs_demon
		}
	}
	is_valid = {
		scope:actor = {
			any_prisoner = { count > 0 }
		}
	}

	populate_recipient_list = {
		scope:actor = {
			every_prisoner = {
				add_to_list = characters
			}
		}
	}
	send_option = {
		is_valid = {
			scope:actor = {
				has_usable_hook = scope:recipient
			}
		}
		flag = hook
		localization = GENERIC_SPEND_A_HOOK
	}
	send_option = {
		is_valid = {
			exists = scope:recipient
			scope:recipient = {
				can_add_hook = {
					target = scope:actor
					type = favor_hook
				}
			}
		}
		flag = favor
		localization = "RANSOM_OWE_FAVOR_OPTION"
	}
	send_option = {
		flag = demand_conversion
		localization = "RELEASE_DEMAND_CONVERSION"
		is_valid = {
			NOT = { scope:recipient.faith = scope:actor.faith }
			custom_description = {
				text = cannot_demand_religious_head_conversion
				subject = scope:recipient
				NOT = {
					AND = {
						exists = scope:recipient.faith.religious_head
						scope:recipient.faith.religious_head = scope:recipient
					}
				}
			}
		}
	}
	send_options_exclusive = no

	on_accept = {
		scope:actor = {
			remove_trait = sbs_lesser_succubus
			add_trait = sbs_succubus
			set_immortal_age = 18
			if = {
				limit = {
					scope:hook = yes
					has_hook = scope:recipient
				}
				use_hook = scope:recipient
			}
			if = {
				limit = {
					scope:demand_conversion = yes
				}
				set_character_faith_with_conversion = scope:recipient.faith
			}
		}
		scope:recipient = {
			if = {
				limit = { scope:favor = yes }
				add_hook = {
					target = scope:actor
					type = fabrication_hook
				}
			}
		}
		scope:secondary_recipient = {
			death = {
				death_reason = death_execution
				killer = scope:actor
			}
		}
	}

	ai_accept = {
		base = 0
		opinion_modifier = {
			opinion_target = scope:actor
			who = scope:recipient
			multiplier = 1
		}
		opinion_modifier = {
			opinion_target = scope:secondary_recipient
			who = scope:recipient
			multiplier = -0.1
		}
		modifier = { add = 10 scope:actor = { has_trait = lustful } }
		modifier = { add = 10 scope:actor = { has_trait = deviant } }
		modifier = { add = 10 scope:actor = { has_trait = witch } }
		modifier = { add = 10 scope:actor = { any_secret = { secret_type = secret_deviant is_known_by = scope:recipient } } }
		modifier = { add = 10 scope:actor = { any_secret = { secret_type = secret_witch is_known_by = scope:recipient } } }
		modifier = { add = 25 scope:hook = yes }
		modifier = { add = 25 scope:favor = yes }
		modifier = { add = 25 scope:demand_conversion = yes }
	}
	ai_potential = { always = yes }
	ai_frequency = 12
	ai_targets = {
		ai_recipients = liege
		ai_recipients = vassals
		ai_recipients = peer_vassals
		ai_recipients = guests
		ai_recipients = courtiers
		ai_recipients = neighboring_rulers
		ai_recipients = nearby_domicile_owners
		max = 5
	}

	ai_will_do = {
		base = 0
		modifier = {
			add = 25
			scope:actor = {
				has_trait_xp = {
					trait = sbs_lesser_succubus
					value >= 100
				}
			}
		}
		modifier = {
			add = 5
			scope:hook = yes
			scope:actor = {
				has_trait_xp = {
					trait = sbs_lesser_succubus
					value >= 100
				}
			}
		}
		modifier = {
			add = 5
			scope:favor = yes
			scope:actor = {
				has_trait_xp = {
					trait = sbs_lesser_succubus
					value >= 100
				}
			}
		}
		modifier = {
			add = 5
			scope:demand_conversion = yes
			NOT = { scope:actor = { has_trait = zealous } }
			scope:actor = {
				has_trait = lustful
				OR = {
					has_trait = deviant
					any_secret = { secret_type = secret_deviant }
				}
				OR = {
					has_trait = witch
					any_secret = { secret_type = secret_witch }
				}
			}
		}
	}
}

succubus_absorb_interaction = {
	icon = drain_life
	desc = succubus_absorb_interaction.desc
	category = interaction_category_vassal
	use_diplomatic_range = yes
	common_interaction = yes
	cooldown = { years = 2 }
	send_option = {
		is_shown = {
			scope:actor  = { has_trait = sbs_lesser_succubus }
			}
			flag = lesser_succubus
			localization = "trait_track_lesser_succubus"
	}
	send_option = {
		is_shown = {
			OR = {
				scope:recipient  = { has_trait_xp = { trait = sbs_succubus track = power value < 10 } }
				scope:recipient = { has_trait = sbs_demon }
			}
		}
		flag = power
		localization = "trait_track_power"
	}
	send_option = {
		is_shown = {
			OR = {
				scope:recipient  = { has_trait_xp = { trait = sbs_succubus track = daring value < 10 } }
				scope:recipient = { has_trait = sbs_demon }
			}
		}
		flag = daring
		localization = "trait_track_daring"
	}
	send_option = {
		is_shown = {
			OR = {
				scope:recipient  = { has_trait_xp = { trait = sbs_succubus track = loyalty value < 1 } }
				scope:recipient = { has_trait = sbs_demon }
			}
		}
		flag = loyalty
		localization = "trait_track_loyalty"
	}
	send_option = {
		is_shown = {
			OR = {
				scope:recipient  = { has_trait_xp = { trait = sbs_succubus track = corruption value < 1 } }
				scope:recipient = { has_trait = sbs_demon }
			}
		}
		flag = corruption
		localization = "trait_track_corruption"
	}
	send_options_exclusive = yes
	is_shown = {
		scope:actor = {
			OR = {
				has_trait = sbs_succubus
				has_trait = sbs_lesser_succubus
			}
			is_ruler = yes
			NOT = { is_at_war_with = scope:recipient }
		}
		scope:recipient = {
			OR = {
				is_courtier_of = scope:actor
				is_vassal_of = scope:actor
			}
			OR = {
				has_trait = sbs_demon
				has_trait_xp = { trait = sbs_lesser_succubus value >= 50 }
				has_trait_xp = { trait = sbs_succubus track = corruption value >= 1 }
				has_trait_xp = { trait = sbs_succubus track = loyalty value >= 1 }
				has_trait_xp = { trait = sbs_succubus track = power value >= 10 }
				has_trait_xp = { trait = sbs_succubus track = daring value >= 10 }
			}
		}
	}
	on_accept = {
		scope:actor = {
			if = {
				limit = { has_trait = sbs_lesser_succubus scope:lesser_succubus = yes }
				add_trait_xp = { trait = sbs_lesser_succubus value = 50 }
			}
			else_if = {
				limit = { has_trait = sbs_succubus scope:power = yes }
				add_trait_xp = { trait = sbs_succubus track = power value = 10 }
			}
			else_if = {
				limit = { has_trait = sbs_succubus scope:daring = yes }
				add_trait_xp = { trait = sbs_succubus track = daring value = 10 }
			}
			else_if = {
				limit = { has_trait = sbs_succubus scope:loyalty = yes }
				add_trait_xp = { trait = sbs_succubus track = loyalty value = 1 }
			}
			else_if = {
				limit = { has_trait = sbs_succubus scope:corruption = yes }
				add_trait_xp = { trait = sbs_succubus track = corruption value = 1 }
			}
		}
		scope:recipient = {
			add_character_modifier = { modifier = succubus_buff years = 2 }
			if = {
				limit = { has_trait = sbs_lesser_succubus }
				add_trait_xp = { trait = sbs_lesser_succubus value = -50 }
			}
			if = {
				limit = { has_trait = sbs_succubus }
				if = {
					limit = { scope:power = yes }
					add_trait_xp = { trait = sbs_succubus track = power value = -10 }
				}
				if = {
					limit = { scope:daring = yes }
					add_trait_xp = { trait = sbs_succubus track = daring value = -10 }
				}
				if = {
					limit = { scope:loyalty = yes }
					add_trait_xp = { trait = sbs_succubus track = loyalty value = -1 }
				}
				if = {
					limit = { scope:corruption = yes }
					add_trait_xp = { trait = sbs_succubus track = corruption value = -1 }
				}
				if = {
					limit = { scope:lesser_succubus = yes }
					if = {
						limit = { has_trait_xp = { trait = sbs_succubus track = power value >= 10 } }
						add_trait_xp = { trait = sbs_succubus track = power value = -10 }
					}
					else_if = {
						limit = { has_trait_xp = { trait = sbs_succubus track = daring value >= 10 } }
						add_trait_xp = { trait = sbs_succubus track = daring value = -10 }
					}
					else_if = {
						limit = { has_trait_xp = { trait = sbs_succubus track = loyalty value >= 1 } }
						add_trait_xp = { trait = sbs_succubus track = loyalty value = -1 }
					}
					else_if = {
						limit = { has_trait_xp = { trait = sbs_succubus track = corruption value >= 1 } }
						add_trait_xp = { trait = sbs_succubus track = corruption value = -1 }
					}
				}
			}
		}
	}
	auto_accept = yes
	ai_frequency = 12
	ai_targets = {
		ai_recipients = courtiers
		ai_recipients = prisoners
		ai_recipients = vassals
	}
	ai_potential = { always = yes }
	ai_will_do = { base = 100 }
}

succubus_create_lesser_succubus_interaction = {
	icon = lesser_devil
	desc = succubus_create_lesser_succubus_interaction.desc
	category = interaction_category_vassal
	use_diplomatic_range = yes
	cooldown = { years = 25 }
	is_shown = {
		scope:recipient = {
			NOR = {
				has_trait = sbs_demon
				has_trait = sbs_succubus
				has_trait = sbs_lesser_succubus
			}
		}
		scope:actor = {
			OR = {
				has_trait = sbs_demon
				AND = {
					has_trait_xp = { trait = sbs_succubus track = corruption value >= 25 }
					is_valid_construction_alchemy3_trigger = yes
				}
			}
		}
	}
	on_accept = {
		scope:recipient = {
			if = {
				limit = { has_trait = deviant_virgin }
				remove_trait = deviant_virgin
			}
			mind_break_personality = yes
			add_trait = sbs_lesser_succubus
			set_immortal_age = 18
		}
		scope:actor = {
			if = {
				limit = { has_trait = sbs_succubus }
				add_trait_xp = { trait = sbs_succubus track = corruption value = -25 }
			}
		}
	}
	auto_accept = yes
}

succubus_create_succubus_interaction = {
	icon = devil
	desc = succubus_create_succubus_interaction.desc
	category = interaction_category_vassal
	use_diplomatic_range = yes
	cooldown = { years = 50 }
	is_shown = {
		scope:recipient = {
			NOR = {
				has_trait = sbs_demon
				has_trait = sbs_succubus
			}
		}
		scope:actor = {
			has_trait = sbs_demon
		}
	}
	on_accept = {
		scope:recipient = {
			if = {
				limit = { has_trait = deviant_virgin }
				remove_trait = deviant_virgin
			}
			if = {
				limit = { has_trait = sbs_lesser_succubus }
				remove_trait = sbs_lesser_succubus
			}
			mind_break_personality = yes
			add_trait = sbs_succubus
			set_immortal_age = 18
		}
	}
	auto_accept = yes
}
