deviants_spawn_death_korp = {
	desc = deviants_spawn_death_korp.desc
	selection_tooltip = deviants_spawn_death_korp.t
	picture = "gfx/interface/illustrations/decisions/decision_invite_knights.dds"
	confirm_text = deviants_spawn_death_korp.c
	is_shown = {
		has_trait_xp = {
			trait = deviants_succubus
			track = loyalty
			value >= 25
		} 
	}
	is_valid = {
		is_valid_construction_alchemy3_trigger = yes
	}
	effect = {
		spawn_army = {
			men_at_arms = {
				type = deviants_death_korps
				stacks = 25
			}
			location = capital_province
			inheritable = yes
			uses_supply = 25
			name = deviants_death_korps
		}
		add_trait_xp = {
			trait = deviants_succubus
			track = loyalty
			value = -25
		}
	}
	ai_check_frequency = 120
	ai_will_do = { base = 5 }
}

deviants_demon_generals = {
	desc = deviants_demon_generals.desc
	picture = "gfx/interface/illustrations/decisions/decision_realm.dds"
	confirm_text = deviants_demon_generals.c
	selection_tooltip = deviants_demon_generals.t
	is_shown = {
		has_trait_xp = {
			trait = deviants_succubus
			track = loyalty
			value >= 50
		} 
	}
	is_valid = {
		is_valid_construction_alchemy3_trigger = yes
	}
	effect = {
		every_courtier = {
			limit = { is_knight = yes }
			had_sex_with_effect = { CHARACTER = root PREGNANCY_CHANCE = pregnancy_chance }
			add_character_modifier = { modifier = deviants_generals years = 13 }
			#add_character_modifier = diplomacy_majesty_4090_no_raiment_modifier 
			root = {
				add_trait_xp = { trait = deviants_succubus track = power value = 1 }
				add_character_modifier = deviants_fuckedsilly months = 1
			}
		}
		add_character_modifier = { modifier = deviants_generals years = 13 }
		add_trait_xp = {
			trait = deviants_succubus
			track = loyalty
			value = -50
		}
	}
	ai_check_frequency = 120
	ai_will_do = { base = 10 }
}

deviants_become_succubus = {
	picture = "gfx/interface/illustrations/decisions/decision_major_religion.dds"
	desc = deviants_become_succubus.desc
	confirm_text = deviants_become_succubus.c
	selection_tooltip = deviants_become_succubus.t

	is_shown = { 
		is_ai = no
		is_ruler = yes
		is_female = yes
		age >= 18
		NOR = { 
			has_trait = deviants_succubus
			has_trait = deviants_lesser_succubus
			has_trait = deviants_virgin
		}
	}
	effect = {
		add_secret = { type = secret_deviant }
		add_secret = { type = secret_witch }
		random_list = {
			1 = { give_nickname = nick_the_lewd }
			1 = { give_nickname = nick_the_lecher }
			1 = { give_nickname = nick_the_bewitched }
		}
		if = {
			limit = {
				OR = {
					has_trait = education_martial_2
					has_trait = education_martial_3
					has_trait = education_martial_4
					has_trait = education_martial_5
				}
			}
			remove_trait = education_martial_2
			remove_trait = education_martial_3
			remove_trait = education_martial_4
			remove_trait = education_martial_5
			add_trait = education_martial_1
		}
		if = {
			limit = {
				OR = {
					has_trait = education_diplomacy_2
					has_trait = education_diplomacy_3
					has_trait = education_diplomacy_4
					has_trait = education_diplomacy_5
				}
			}
			remove_trait = education_diplomacy_2
			remove_trait = education_diplomacy_3
			remove_trait = education_diplomacy_4
			remove_trait = education_diplomacy_5
			add_trait = education_diplomacy_1
		}
		if = {
			limit = {
				OR = {
					has_trait = education_intrigue_2
					has_trait = education_intrigue_3
					has_trait = education_intrigue_4
					has_trait = education_intrigue_5
				}
			}
			remove_trait = education_intrigue_2
			remove_trait = education_intrigue_3
			remove_trait = education_intrigue_4
			remove_trait = education_intrigue_5
			add_trait = education_intrigue_1
		}
		if = {
			limit = {
				OR = {
					has_trait = education_stewardship_2
					has_trait = education_stewardship_3
					has_trait = education_stewardship_4
					has_trait = education_stewardship_5
				}
			}
			remove_trait = education_stewardship_2
			remove_trait = education_stewardship_3
			remove_trait = education_stewardship_4
			remove_trait = education_stewardship_5
			add_trait = education_stewardship_1
		}
		if = {
			limit = {
				OR = {
					has_trait = education_learning_2
					has_trait = education_learning_3
					has_trait = education_learning_4
					has_trait = education_learning_5
				}
			}
			remove_trait = education_learning_2
			remove_trait = education_learning_3
			remove_trait = education_learning_4
			remove_trait = education_learning_5
			add_trait = education_learning_1
		}
		remove_character_modifier = deviants_slave
		add_character_modifier = deviants_prostitute
		set_immortal_age = 18
		add_trait = deviants_succubus
	}
}
